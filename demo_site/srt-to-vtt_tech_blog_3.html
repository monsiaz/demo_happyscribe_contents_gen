<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <title>Scaling bulk SRT to VTT conversions in the cloud - HappyScribe</title>
  <meta name='description' content='AI-generated page about subtitle conversion.'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link rel='canonical' href='https://monsiaz.github.io/demo_happyscribe_contents_gen/srt-to-vtt_tech_blog_3.html'>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css'>
  <link rel='stylesheet' href='settings/web_assets/style.css'>
</head>
<body>
  <header class='topbar'>
     <div class='container topbar-inner'>
        <a class='brand' href='/'><img src='settings/web_assets/header.png' class='hero-img' alt='Header'></a>
     </div>
  </header>

  <main class='container'>
     <nav id='toc' class='toc'></nav>
     {"Authorization": f"Bearer {API_KEY}"}

def convert_srt_to_vtt(file_url):
    # Create export request
    res = requests.post(
        "https://api.happyscribe.com/api/v1/exports",
        json={
            "export": {
                "format": "vtt",
                "transcription_ids": [file_url]
            }
        },
        headers=HEADERS
    )
    job = res.json()
    job_id = job["id"]
    # Poll until ready
    while True:
        status = requests.get(f"https://api.happyscribe.com/api/v1/exports/{job_id}", headers=HEADERS).json()
        if status["state"] == "ready":
            download_link = status["download_link"]
            requests.get(download_link)
            break
        time.sleep(5)

# Dispatch pool
files = ["srt1", "srt2", "srt3"]
threads = []
for f in files:
    t = threading.Thread(target=convert_srt_to_vtt, args=(f,))
    t.start()
    threads.append(t)
for t in threads:
    t.join()
</code></pre>

<h2>What is the minimal flow for the conversion process?</h2>
<p>
A minimal end-to-end flow consists of three steps: upload, create export, download.  
You may skip the upload call if the SRT already lives at a public HTTPS URL.  
Otherwise, obtain a <strong>signed URL</strong> from the API and perform a PUT.  
After that, post an export job specifying format “vtt” and poll until completion.
</p>

<pre><code>
# Step 1: get signed URL
curl -H "Authorization: Bearer $API_KEY" \
  "https://api.happyscribe.com/api/v1/uploads/new?filename=example.srt" \
  | jq -r .signedUrl > signed_url.txt

# Step 2: upload SRT
curl -X PUT -T example.srt "$(cat signed_url.txt)"

# Step 3: create export
EXPORT_ID=$(curl -s -H "Authorization: Bearer $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"export":{"format":"vtt","transcription_ids":["'"$(cat signed_url.txt)"'"]}}
     
  </main>

  <footer>
     <div class='container small text-muted'>© HappyScribe · Generated by <strong>o4-mini-2025-04-16</strong></div>
  </footer>

  <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js'></script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
     const toc = document.getElementById('toc');
     if (!toc) return;
     const h2s = Array.from(document.querySelectorAll('main.container h2'));
     if (!h2s.length) { toc.remove(); return; }
     const ul = document.createElement('ul');
     h2s.forEach(h => {
        const id = h.textContent.trim().toLowerCase().replace(/[^a-z0-9]+/g,'-');
        h.id = id;
        const li = document.createElement('li');
        li.innerHTML = "<a href='#"+id+"'>"+h.textContent+"</a>";
        ul.appendChild(li);
     });
     toc.innerHTML = '<h2>Table of contents</h2>';
     toc.appendChild(ul);
  });
  </script>
</body>
</html>